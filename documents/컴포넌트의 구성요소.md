# Component의 구성요소

강의 번호: React
유형: 개인공부
작성일시: 2022년 7월 24일 오전 1:05

※출처: 실리콘밸리 개발 방법으로 배우는 리액트 프로그래밍 정석

## ✍🏻Component의 구성요소

| 데이터 구성 요소 | 특징 |
| --- | --- |
| 프로퍼티 | 상위 컴포넌트에서 하위 컴포넌트로 전달되는 읽기 전용 데이터이다. |
| state | 컴포넌트의 상태를 저장하고 변경할 수 있는 데이터이다. |
| 컨텍스트 | 부모 컴포넌트에서 생성하여 모든 자식 컴포넌트에 전달하는 데이터이다. |

## 📖프로퍼티와 State

props는 부모 컴포넌트가 자식 컴포넌트에게 주는 값이다. 자식 컴포넌트에서는 props를 받아오기만 하고, 받아온 props를 직접 수정할 수는 없다. 반면에 state는 컴포넌트 내부에서 선언하며 내부에서 값을 변경할 수 있다.

## 📖컨텍스트

프로퍼티와 state는 부모와 자식 컴포넌트가 연결된 상태에서 공유하는 데이터이다. 반면, 컨텍스트는 부모와 자식 컴포넌트가 연결되어 있지 않아도 데이터를 공유할 수 있게 해준다. 컨텍스트스는 보통 ‘데이터 공유 저장소’와 ‘데이터 전파’를 담당한다고 이야기한다.

### 📎관찰자 패턴 도입하기

관찰자 패턴이란 ‘데이터는 공급자가 관리하고 관찰자는 공급자를 구독하여 데이터를 얻는 방식’을 말한다. 즉, 관찰자 패턴을 도입하면 공급자와 관찰자가 서로 역할을 분리하여 데이터를 관리하게 된다. 공급자는 데이터 보관, 데이터 변경, 소비자에게 데이터를 공급하는 역할을 하고, 관찰자는 공급자를 구독하여 데이터를 소비하는 역할을 담당한다. **컨텍스트는 ‘컴포넌트 간의 자료 의존성을 없애주는 역할’을 한다.**

- 소비자는 공급자보다 낮은 계층에 존재해야 한다.
- 소비자는 공급자가 제공하는 콜백함수로 데이터를 변경할 수 있다.

소비자는 공급자의 데이터를 변경할 수 있다. 단, 소비자가 공급자의 데이터를 변경할 때는 ‘공급자의 데이터에 직접 접근하여 변경하는 것’이 아니라 ‘공급자로부터 데이터 변경을 위한 콜백 함수를 받아 데이터 변경 요청’을 해야 한다.

### 📎리덕스와 컨텍스트 중 무엇을 사용해야 하는가?

‘서버에서 가져온 데이터를 이용하여 새로운 결과물을 만드는 경우’는 리덕스를, ‘컴포넌트의 통합 데이터를 관리하는 경우’는 컨텍스트를 사용하는 것이 좋다.